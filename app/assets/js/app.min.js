/*!
 * Coding101
 * Coding101 is a guide for people that want to learn how to code
 * https://github.com/devcenter-square/coding101
 * @author Devcenter
 * @version 0.0.1
 * Copyright 2016. MIT licensed.
 */
function slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var config={apiKey:"AIzaSyA6mwwrGZLXTrPZcotadbPla7MfSNRyvU8",authDomain:"coding101-e7ef0.firebaseapp.com",databaseURL:"https://coding101-e7ef0.firebaseio.com",storageBucket:"coding101-e7ef0.appspot.com"};firebase.initializeApp(config);var db={tracks:firebase.database().ref("tracks"),resources:firebase.database().ref("resources")},trackList={template:"#TrackList",data:function(){return{tracks:[]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;db.tracks.once("value",function(t){var r=t.val();for(var a in r){var s=r[a];s.resources={},db.resources.orderByChild("track").equalTo(s.slug).once("value",function(e){s.resources=e.val()}),e.tracks.push(s)}})}}},newTrack={template:"#Track",data:function(){return{track:{},resources:[{}]}},methods:{addResource:function(){this.resources.push({})},removeResource:function(e){this.resources.splice(e,1)},save:function(){for(this.track.slug=slugify(this.track.name),db.tracks.child(this.track.slug).set({name:this.track.name,slug:this.track.slug,details:this.track.details}),i=0;i<this.resources.length;i++){var e=db.resources.push();e.set({track:this.track.slug,url:this.resources[i].url})}this.$router.push("/")}}},editTrack={template:"#Track",data:function(){return{track:{},resources:{}}},beforeRouteEnter:function(e,t,r){db.tracks.child(e.params.slug).once("value",function(t){db.resources.orderByChild("track").equalTo(e.params.slug).once("value",function(e){r(function(r){r.track=t.val(),r.resources=e.val()})})},function(){r(!1)})},watch:{$route:"fetchData"},methods:{fetchData:function(e){var t=this;db.tracks.child(e).once("value",function(e){db.resources.orderByChild("track").equalTo(this.$route.params.slug).once("value",function(r){t.track=e.val(),t.resources=r.val()})},function(){})},addResource:function(){var e=this,t={track:this.track.slug};db.resources.push(t).then(function(r){e.resources=e.resources||{},Vue.set(e.resources,r.key,t)})},removeResource:function(e){},saveResource:function(e,t){db.resources.child(e).update({url:t.url})},save:function(){this.track.slug=slugify(this.track.name),db.tracks.child(this.$route.params.slug).update({name:this.track.name,slug:this.track.slug,details:this.track.details}),this.$router.push("/")}}},questionList=Vue.component("questionList",{template:"#QuestionList"}),question=Vue.component("question",{template:"#Question"}),router=new VueRouter({routes:[{name:"home",path:"/",redirect:"/tracks"},{name:"trackList",path:"/tracks",component:trackList},{name:"newTrack",path:"/tracks/new",component:newTrack},{name:"editTrack",path:"/tracks/:slug",component:editTrack},{name:"questionList",path:"/questions",component:questionList},{name:"question",path:"/questions/:id",component:question}]}),app=new Vue({router:router}).$mount("#app");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzbHVnaWZ5IiwidGV4dCIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiY29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwic3RvcmFnZUJ1Y2tldCIsImZpcmViYXNlIiwiaW5pdGlhbGl6ZUFwcCIsImRiIiwidHJhY2tzIiwiZGF0YWJhc2UiLCJyZWYiLCJyZXNvdXJjZXMiLCJ0cmFja0xpc3QiLCJ0ZW1wbGF0ZSIsImRhdGEiLCJ3YXRjaCIsIiRyb3V0ZSIsImNyZWF0ZWQiLCJ0aGlzIiwiZmV0Y2hEYXRhIiwibWV0aG9kcyIsInNlbGYiLCJvbmNlIiwic25hcHNob3QiLCJ2YWwiLCJpIiwidHJhY2siLCJvcmRlckJ5Q2hpbGQiLCJlcXVhbFRvIiwic2x1ZyIsInB1c2giLCJuZXdUcmFjayIsImFkZFJlc291cmNlIiwicmVtb3ZlUmVzb3VyY2UiLCJpbmRleCIsInNwbGljZSIsInNhdmUiLCJuYW1lIiwiY2hpbGQiLCJzZXQiLCJkZXRhaWxzIiwibGVuZ3RoIiwiX25ld1Jlc291cmNlIiwidXJsIiwiJHJvdXRlciIsImVkaXRUcmFjayIsImJlZm9yZVJvdXRlRW50ZXIiLCJ0byIsImZyb20iLCJuZXh0IiwicGFyYW1zIiwidm0iLCJ0aGVuIiwiVnVlIiwia2V5Iiwic2F2ZVJlc291cmNlIiwicmVzb3VyY2UiLCJ1cGRhdGUiLCJxdWVzdGlvbkxpc3QiLCJjb21wb25lbnQiLCJxdWVzdGlvbiIsInJvdXRlciIsIlZ1ZVJvdXRlciIsInJvdXRlcyIsInBhdGgiLCJyZWRpcmVjdCIsImFwcCIsIiRtb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFxTUEsUUFBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBQyxXQUFBQyxjQUNBQyxRQUFBLE9BQUEsS0FDQUEsUUFBQSxZQUFBLElBQ0FBLFFBQUEsU0FBQSxLQUNBQSxRQUFBLE1BQUEsSUFDQUEsUUFBQSxNQUFBLElBdE1BLEdB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QUcsS0FBQWxDLFFBQUF1QixLQUFBUSxNQUFBVyxNQUVBOUIsR0FBQUMsT0FBQThCLE1BQUFwQixLQUFBRixPQUFBa0MsT0FBQXJCLE1BQUE0QixRQUNBcEIsS0FBQW5CLEtBQUFRLE1BQUFXLEtBQ0FSLEtBQUFYLEtBQUFRLE1BQUFHLEtBQ0FXLFFBQUF0QixLQUFBUSxNQUFBYyxVQUdBdEIsS0FBQTBCLFFBQUFkLEtBQUEsUUFLQTRCLGFBQUFMLElBQUFNLFVBQUEsZ0JBQ0E5QyxTQUFBLGtCQUdBK0MsU0FBQVAsSUFBQU0sVUFBQSxZQUNBOUMsU0FBQSxjQUtBZ0QsT0FBQSxHQUFBQyxZQUNBQyxTQUNBMUIsS0FBQSxPQUFBMkIsS0FBQSxJQUFBQyxTQUFBLFlBQ0E1QixLQUFBLFlBQUEyQixLQUFBLFVBQUFMLFVBQUEvQyxZQUNBeUIsS0FBQSxXQUFBMkIsS0FBQSxjQUFBTCxVQUFBNUIsV0FDQU0sS0FBQSxZQUFBMkIsS0FBQSxnQkFBQUwsVUFBQWQsWUFDQVIsS0FBQSxlQUFBMkIsS0FBQSxhQUFBTCxVQUFBRCxlQUNBckIsS0FBQSxXQUFBMkIsS0FBQSxpQkFBQUwsVUFBQUMsYUFNQU0sSUFBQSxHQUFBYixNQUFBUSxPQUFBQSxTQUFBTSxPQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAuanMgd2lsbCBiZSB0aGUgamF2YXNjcmlwdCBmaWxlXG4vLyBmb3IgdGhlIG1haW4gYXBwIGZ1bmN0aW9ucyAobm9uLWRvbSlcblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuXG52YXIgY29uZmlnID0ge1xuICAgIGFwaUtleTogXCJBSXphU3lBNm13d3JHWkxYVHJQWmNvdGFkYlBsYTdNZlNOUnl2VThcIixcbiAgICBhdXRoRG9tYWluOiBcImNvZGluZzEwMS1lN2VmMC5maXJlYmFzZWFwcC5jb21cIixcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2NvZGluZzEwMS1lN2VmMC5maXJlYmFzZWlvLmNvbVwiLFxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwiY29kaW5nMTAxLWU3ZWYwLmFwcHNwb3QuY29tXCJcbn07XG5cbmZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcblxudmFyIGRiID0ge1xuICAgIHRyYWNrczogZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3RyYWNrcycpLFxuICAgIHJlc291cmNlczogZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Jlc291cmNlcycpXG59XG5cbi8vIENvbXBvbmVudHNcblxudmFyIHRyYWNrTGlzdCA9IHtcbiAgICB0ZW1wbGF0ZTogJyNUcmFja0xpc3QnLFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2tzOiBbXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICAnJHJvdXRlJzogJ2ZldGNoRGF0YSdcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmZldGNoRGF0YSgpXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIGZldGNoRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBkYi50cmFja3Mub25jZSgndmFsdWUnLCBmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFja3MgPSBzbmFwc2hvdC52YWwoKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2sucmVzb3VyY2VzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGRiLnJlc291cmNlcy5vcmRlckJ5Q2hpbGQoJ3RyYWNrJykuZXF1YWxUbyh0cmFjay5zbHVnKS5vbmNlKCd2YWx1ZScsIGZ1bmN0aW9uKHJlc291cmNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2sucmVzb3VyY2VzID0gcmVzb3VyY2VzLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBuZXdUcmFjayA9IHtcbiAgICB0ZW1wbGF0ZTogJyNUcmFjaycsXG4gICAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFjazoge30sXG4gICAgICAgICAgICByZXNvdXJjZXM6IFt7fV1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBhZGRSZXNvdXJjZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlcy5wdXNoKHt9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlUmVzb3VyY2U6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9LFxuICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2suc2x1ZyA9IHNsdWdpZnkodGhpcy50cmFjay5uYW1lKTtcblxuICAgICAgICAgICAgZGIudHJhY2tzLmNoaWxkKHRoaXMudHJhY2suc2x1Zykuc2V0KHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnRyYWNrLm5hbWUsXG4gICAgICAgICAgICAgICAgc2x1ZzogdGhpcy50cmFjay5zbHVnLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHRoaXMudHJhY2suZGV0YWlsc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBfbmV3UmVzb3VyY2UgPSBkYi5yZXNvdXJjZXMucHVzaCgpO1xuICAgICAgICAgICAgICAgIF9uZXdSZXNvdXJjZS5zZXQoe1xuICAgICAgICAgICAgICAgICAgICB0cmFjazogdGhpcy50cmFjay5zbHVnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHRoaXMucmVzb3VyY2VzW2ldLnVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGVkaXRUcmFjayA9IHtcbiAgICB0ZW1wbGF0ZTogJyNUcmFjaycsXG4gICAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFjazoge30sXG4gICAgICAgICAgICByZXNvdXJjZXM6IHt9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uKHRvLCBmcm9tLCBuZXh0KSB7XG4gICAgICAgIGRiLnRyYWNrcy5jaGlsZCh0by5wYXJhbXMuc2x1Zykub25jZSgndmFsdWUnLCBmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgZGIucmVzb3VyY2VzLm9yZGVyQnlDaGlsZChcInRyYWNrXCIpLmVxdWFsVG8odG8ucGFyYW1zLnNsdWcpLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24ocmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgbmV4dChmdW5jdGlvbih2bSkge1xuICAgICAgICAgICAgICAgICAgICB2bS50cmFjayA9IHRyYWNrLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB2bS5yZXNvdXJjZXMgPSByZXNvdXJjZXMudmFsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBUcmFjayBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICBuZXh0KGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICAgICckcm91dGUnOiAnZmV0Y2hEYXRhJ1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBmZXRjaERhdGE6IGZ1bmN0aW9uKHNsdWcpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGRiLnRyYWNrcy5jaGlsZChzbHVnKS5vbmNlKCd2YWx1ZScsIGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgZGIucmVzb3VyY2VzLm9yZGVyQnlDaGlsZChcInRyYWNrXCIpLmVxdWFsVG8odGhpcy4kcm91dGUucGFyYW1zLnNsdWcpLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24ocmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYudHJhY2sgPSB0cmFjay52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMgPSByZXNvdXJjZXMudmFsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBUcmFjayBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkUmVzb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIF9uZXdSZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICB0cmFjazogdGhpcy50cmFjay5zbHVnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkYi5yZXNvdXJjZXMucHVzaChfbmV3UmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlc291cmNlcyA9IHNlbGYucmVzb3VyY2VzIHx8IHt9O1xuICAgICAgICAgICAgICAgIFZ1ZS5zZXQoc2VsZi5yZXNvdXJjZXMsIHNuYXBzaG90LmtleSwgX25ld1Jlc291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVSZXNvdXJjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIHZhciBfb2JqZWN0cyA9IHRoaXMucmVzb3VyY2VzXG4gICAgICAgICAgICAvLyBmb3IgKGkgaW4gX29iamVjdHMpIHtcbiAgICAgICAgICAgIC8vICAgICB2YXIgX3VwZGF0ZVJlc291cmNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Jlc291cmNlcy8nICsgX29iamVjdHNbaV0uaWQpXG4gICAgICAgICAgICAvLyAgICAgX3VwZGF0ZVJlc291cmNlLnJlbW92ZSgpO1xuICAgICAgICAgICAgLy8gICAgIF9vYmplY3RzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIHdyaXRlIGNvZGUgdG8gcmVtb3ZlIHJlc291cmNlIGZyb20gZmlyZWJhc2VcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZVJlc291cmNlOiBmdW5jdGlvbihpbmRleCwgcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHdyaXRlIGNvZGUgdG8gc2F2ZSByZXNvdXJjZVxuICAgICAgICAgICAgZGIucmVzb3VyY2VzLmNoaWxkKGluZGV4KS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHVybDogcmVzb3VyY2UudXJsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyB3cml0ZSBjb2RlIHRvIHVwZGF0ZSB0cmFja1xuICAgICAgICAgICAgdGhpcy50cmFjay5zbHVnID0gc2x1Z2lmeSh0aGlzLnRyYWNrLm5hbWUpO1xuXG4gICAgICAgICAgICBkYi50cmFja3MuY2hpbGQodGhpcy4kcm91dGUucGFyYW1zLnNsdWcpLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy50cmFjay5uYW1lLFxuICAgICAgICAgICAgICAgIHNsdWc6IHRoaXMudHJhY2suc2x1ZyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB0aGlzLnRyYWNrLmRldGFpbHNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIHF1ZXN0aW9uTGlzdCA9IFZ1ZS5jb21wb25lbnQoJ3F1ZXN0aW9uTGlzdCcsIHtcbiAgICB0ZW1wbGF0ZTogJyNRdWVzdGlvbkxpc3QnXG59KTtcblxudmFyIHF1ZXN0aW9uID0gVnVlLmNvbXBvbmVudCgncXVlc3Rpb24nLCB7XG4gICAgdGVtcGxhdGU6ICcjUXVlc3Rpb24nXG59KTtcblxuLy8gUm91dGVzXG5cbnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHtcbiAgICByb3V0ZXM6IFtcbiAgICAgICAgeyBuYW1lOiAnaG9tZScsIHBhdGg6ICcvJywgcmVkaXJlY3Q6ICcvdHJhY2tzJyB9LFxuICAgICAgICB7IG5hbWU6ICd0cmFja0xpc3QnLCBwYXRoOiAnL3RyYWNrcycsIGNvbXBvbmVudDogdHJhY2tMaXN0IH0sXG4gICAgICAgIHsgbmFtZTogJ25ld1RyYWNrJywgcGF0aDogJy90cmFja3MvbmV3JywgY29tcG9uZW50OiBuZXdUcmFjayB9LFxuICAgICAgICB7IG5hbWU6ICdlZGl0VHJhY2snLCBwYXRoOiAnL3RyYWNrcy86c2x1ZycsIGNvbXBvbmVudDogZWRpdFRyYWNrIH0sXG4gICAgICAgIHsgbmFtZTogJ3F1ZXN0aW9uTGlzdCcsIHBhdGg6ICcvcXVlc3Rpb25zJywgY29tcG9uZW50OiBxdWVzdGlvbkxpc3QgfSxcbiAgICAgICAgeyBuYW1lOiAncXVlc3Rpb24nLCBwYXRoOiAnL3F1ZXN0aW9ucy86aWQnLCBjb21wb25lbnQ6IHF1ZXN0aW9uIH1cbiAgICBdXG59KTtcblxuLy8gSW5pdGlhbGl6ZSBWdWVcblxudmFyIGFwcCA9IG5ldyBWdWUoeyByb3V0ZXI6IHJvdXRlciB9KS4kbW91bnQoJyNhcHAnKTtcblxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBzbHVnaWZ5KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKSAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIC1cbiAgICAgICAgLnJlcGxhY2UoL1teXFx3XFwtXSsvZywgJycpIC8vIFJlbW92ZSBhbGwgbm9uLXdvcmQgY2hhcnNcbiAgICAgICAgLnJlcGxhY2UoL1xcLVxcLSsvZywgJy0nKSAvLyBSZXBsYWNlIG11bHRpcGxlIC0gd2l0aCBzaW5nbGUgLVxuICAgICAgICAucmVwbGFjZSgvXi0rLywgJycpIC8vIFRyaW0gLSBmcm9tIHN0YXJ0IG9mIHRleHRcbiAgICAgICAgLnJlcGxhY2UoLy0rJC8sICcnKTsgLy8gVHJpbSAtIGZyb20gZW5kIG9mIHRleHRcbn1cbiJdfQ==
