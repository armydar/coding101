/*!
 * Coding101
 * Coding101 is a guide for people that want to learn how to code
 * https://github.com/devcenter-square/coding101
 * @author Devcenter
 * @version 0.0.1
 * Copyright 2016. MIT licensed.
 */
var config={apiKey:"AIzaSyA6mwwrGZLXTrPZcotadbPla7MfSNRyvU8",authDomain:"coding101-e7ef0.firebaseapp.com",databaseURL:"https://coding101-e7ef0.firebaseio.com",storageBucket:"coding101-e7ef0.appspot.com"};firebase.initializeApp(config);var db={tracks:firebase.database().ref("tracks"),resources:firebase.database().ref("resources")},trackList=Vue.component("trackList",{template:"#TrackList",data:function(){return{tracks:[]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;db.tracks.once("value",function(t){var a=t.val();for(var r in a){var s=a[r];s.resources={},db.resources.orderByChild("track").equalTo(s.slug).once("value",function(e){s.resources=e.val()}),e.tracks.push(s)}})}}}),newTrack=Vue.component("newTrack",{template:"#Track",data:function(){return{track:{},resources:[{}]}},methods:{addResource:function(){this.resources.push({})},removeResource:function(e){this.resources.splice(e,1)},save:function(){function e(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}for(this.track.slug=e(this.track.name),db.tracks.child(this.track.slug).set({name:this.track.name,slug:this.track.slug,details:this.track.details}),i=0;i<this.resources.length;i++){var t=firebase.database().ref("resources").push(),a=t.key;t.set({track:this.track.slug,url:this.resources[i].url,id:a})}this.$router.push("/")}}}),editTrack=Vue.component("editTrack",{template:"#Track",data:function(){return{track:{},resources:[{}]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;db.tracks.child(this.$route.params.slug).once("value",function(t){e.track=t.val()}),db.resources.orderByChild("track").equalTo(this.$route.params.slug).once("value",function(t){e.resources=t.val()})},addResource:function(){this.resources.push({})},removeResource:function(e){var t=this.resources;for(i in t){var a=firebase.database().ref("resources/"+t[i].id);a.remove(),t.splice(e,1)}},saveResource:function(){var e=this.resources;for(i in e){var t=firebase.database().ref("resources/"+e[i].id);t.update({url:e[i].url})}},save:function(){function e(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}this.track.slug=e(this.track.name),db.tracks.child(this.$route.params.slug).update({name:this.track.name,slug:this.track.slug,details:this.track.details}),this.$router.push("/")}}}),questionList=Vue.component("questionList",{template:"#QuestionList"}),question=Vue.component("question",{template:"#Question"}),router=new VueRouter({routes:[{name:"home",path:"/",redirect:"/tracks"},{name:"trackList",path:"/tracks",component:trackList},{name:"newTrack",path:"/tracks/new",component:newTrack},{name:"editTrack",path:"/tracks/:slug",component:editTrack},{name:"questionList",path:"/questions",component:questionList},{name:"question",path:"/questions/:id",component:question}]}),app=new Vue({router:router}).$mount("#app");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGIiLCJ0cmFja3MiLCJkYXRhYmFzZSIsInJlZiIsInJlc291cmNlcyIsInRyYWNrTGlzdCIsIlZ1ZSIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwiZGF0YSIsIndhdGNoIiwiJHJvdXRlIiwiY3JlYXRlZCIsInRoaXMiLCJmZXRjaERhdGEiLCJtZXRob2RzIiwic2VsZiIsIm9uY2UiLCJzbmFwc2hvdCIsInZhbCIsImkiLCJ0cmFjayIsIm9yZGVyQnlDaGlsZCIsImVxdWFsVG8iLCJzbHVnIiwicHVzaCIsIm5ld1RyYWNrIiwiYWRkUmVzb3VyY2UiLCJyZW1vdmVSZXNvdXJjZSIsImluZGV4Iiwic3BsaWNlIiwic2F2ZSIsInNsdWdpZnkiLCJ0ZXh0IiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJuYW1lIiwiY2hpbGQiLCJzZXQiLCJkZXRhaWxzIiwibGVuZ3RoIiwiX25ld1Jlc291cmNlIiwiX2tleSIsImtleSIsInVybCIsImlkIiwiJHJvdXRlciIsImVkaXRUcmFjayIsInBhcmFtcyIsIl9vYmplY3RzIiwiX3VwZGF0ZVJlc291cmNlIiwicmVtb3ZlIiwic2F2ZVJlc291cmNlIiwidXBkYXRlIiwicXVlc3Rpb25MaXN0IiwicXVlc3Rpb24iLCJyb3V0ZXIiLCJWdWVSb3V0ZXIiLCJyb3V0ZXMiLCJwYXRoIiwicmVkaXJlY3QiLCJhcHAiLCIkbW91bnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBS0EsR0FBQUEsU0FDQUMsT0FBQSwwQ0FDQUMsV0FBQSxrQ0FDQUMsWUFBQSx5Q0FDQUMsY0FBQSw4QkFHQUMsVUFBQUMsY0FBQU4sT0FFQSxJQUFBTyxLQUNBQyxPQUFBSCxTQUFBSSxXQUFBQyxJQUFBLFVBQ0FDLFVBQUFOLFNBQUFJLFdBQUFD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UUFBQSxZQUFBLElBQ0FBLFFBQUEsU0FBQSxLQUNBQSxRQUFBLE1BQUEsSUFDQUEsUUFBQSxNQUFBLElBR0F2QixLQUFBUSxNQUFBRyxLQUFBUSxFQUFBbkIsS0FBQVEsTUFBQWdCLE1BRUFyQyxHQUFBQyxPQUFBcUMsTUFBQXpCLEtBQUFGLE9BQUFzQyxPQUFBekIsTUFBQThCLFFBQ0FqQixLQUFBeEIsS0FBQVEsTUFBQWdCLEtBQ0FiLEtBQUFYLEtBQUFRLE1BQUFHLEtBQ0FnQixRQUFBM0IsS0FBQVEsTUFBQW1CLFVBR0EzQixLQUFBa0MsUUFBQXRCLEtBQUEsU0FLQThCLGFBQUFqRCxJQUFBQyxVQUFBLGdCQUNBQyxTQUFBLGtCQUdBZ0QsU0FBQWxELElBQUFDLFVBQUEsWUFDQUMsU0FBQSxjQUtBaUQsT0FBQSxHQUFBQyxZQUNBQyxTQUNBdEIsS0FBQSxPQUFBdUIsS0FBQSxJQUFBQyxTQUFBLFlBQ0F4QixLQUFBLFlBQUF1QixLQUFBLFVBQUFyRCxVQUFBRixZQUNBZ0MsS0FBQSxXQUFBdUIsS0FBQSxjQUFBckQsVUFBQW1CLFdBQ0FXLEtBQUEsWUFBQXVCLEtBQUEsZ0JBQUFyRCxVQUFBeUMsWUFDQVgsS0FBQSxlQUFBdUIsS0FBQSxhQUFBckQsVUFBQWdELGVBQ0FsQixLQUFBLFdBQUF1QixLQUFBLGlCQUFBckQsVUFBQWlELGFBTUFNLElBQUEsR0FBQXhELE1BQUFtRCxPQUFBQSxTQUFBTSxPQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAuanMgd2lsbCBiZSB0aGUgamF2YXNjcmlwdCBmaWxlXG4vLyBmb3IgdGhlIG1haW4gYXBwIGZ1bmN0aW9ucyAobm9uLWRvbSlcblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuXG52YXIgY29uZmlnID0ge1xuICAgIGFwaUtleTogXCJBSXphU3lBNm13d3JHWkxYVHJQWmNvdGFkYlBsYTdNZlNOUnl2VThcIixcbiAgICBhdXRoRG9tYWluOiBcImNvZGluZzEwMS1lN2VmMC5maXJlYmFzZWFwcC5jb21cIixcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2NvZGluZzEwMS1lN2VmMC5maXJlYmFzZWlvLmNvbVwiLFxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwiY29kaW5nMTAxLWU3ZWYwLmFwcHNwb3QuY29tXCJcbn07XG5cbmZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcblxudmFyIGRiID0ge1xuICAgIHRyYWNrczogZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3RyYWNrcycpLFxuICAgIHJlc291cmNlczogZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Jlc291cmNlcycpXG59XG5cbi8vIENvbXBvbmVudHNcblxudmFyIHRyYWNrTGlzdCA9IFZ1ZS5jb21wb25lbnQoJ3RyYWNrTGlzdCcsIHtcbiAgICB0ZW1wbGF0ZTogJyNUcmFja0xpc3QnLFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2tzOiBbXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICAnJHJvdXRlJzogJ2ZldGNoRGF0YSdcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmZldGNoRGF0YSgpXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIGZldGNoRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBkYi50cmFja3Mub25jZSgndmFsdWUnLCBmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFja3MgPSBzbmFwc2hvdC52YWwoKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2sucmVzb3VyY2VzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGRiLnJlc291cmNlcy5vcmRlckJ5Q2hpbGQoJ3RyYWNrJykuZXF1YWxUbyh0cmFjay5zbHVnKS5vbmNlKCd2YWx1ZScsIGZ1bmN0aW9uKHJlc291cmNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2sucmVzb3VyY2VzID0gcmVzb3VyY2VzLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgbmV3VHJhY2sgPSBWdWUuY29tcG9uZW50KCduZXdUcmFjaycsIHtcbiAgICB0ZW1wbGF0ZTogJyNUcmFjaycsXG4gICAgZGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFjazoge30sXG4gICAgICAgICAgICByZXNvdXJjZXM6IFt7fV1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBhZGRSZXNvdXJjZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlcy5wdXNoKHt9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlUmVzb3VyY2U6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9LFxuICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNsdWdpZnkodGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpIC8vIFJlcGxhY2Ugc3BhY2VzIHdpdGggLVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW15cXHdcXC1dKy9nLCAnJykgLy8gUmVtb3ZlIGFsbCBub24td29yZCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwtXFwtKy9nLCAnLScpIC8vIFJlcGxhY2UgbXVsdGlwbGUgLSB3aXRoIHNpbmdsZSAtXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9eLSsvLCAnJykgLy8gVHJpbSAtIGZyb20gc3RhcnQgb2YgdGV4dFxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvLSskLywgJycpOyAvLyBUcmltIC0gZnJvbSBlbmQgb2YgdGV4dFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRyYWNrLnNsdWcgPSBzbHVnaWZ5KHRoaXMudHJhY2submFtZSk7XG5cbiAgICAgICAgICAgIGRiLnRyYWNrcy5jaGlsZCh0aGlzLnRyYWNrLnNsdWcpLnNldCh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy50cmFjay5uYW1lLFxuICAgICAgICAgICAgICAgIHNsdWc6IHRoaXMudHJhY2suc2x1ZyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB0aGlzLnRyYWNrLmRldGFpbHNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5yZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgX25ld1Jlc291cmNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Jlc291cmNlcycpLnB1c2goKTtcbiAgICAgICAgICAgICAgICB2YXIgX2tleSA9IF9uZXdSZXNvdXJjZS5rZXk7XG4gICAgICAgICAgICAgICAgdmFyIGlkO1xuICAgICAgICAgICAgICAgIF9uZXdSZXNvdXJjZS5zZXQoe1xuICAgICAgICAgICAgICAgICAgICB0cmFjazogdGhpcy50cmFjay5zbHVnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHRoaXMucmVzb3VyY2VzW2ldLnVybCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IF9rZXlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBlZGl0VHJhY2sgPSBWdWUuY29tcG9uZW50KCdlZGl0VHJhY2snLCB7XG4gICAgdGVtcGxhdGU6ICcjVHJhY2snLFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2s6IHt9LFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBbe31dXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICAgICckcm91dGUnOiAnZmV0Y2hEYXRhJ1xuICAgIH0sXG4gICAgY3JlYXRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hEYXRhKClcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgZmV0Y2hEYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGRiLnRyYWNrcy5jaGlsZCh0aGlzLiRyb3V0ZS5wYXJhbXMuc2x1Zykub25jZSgndmFsdWUnLCBmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHNlbGYudHJhY2sgPSBzbmFwc2hvdC52YWwoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBkYi5yZXNvdXJjZXMub3JkZXJCeUNoaWxkKFwidHJhY2tcIikuZXF1YWxUbyh0aGlzLiRyb3V0ZS5wYXJhbXMuc2x1Zykub25jZSgndmFsdWUnLCBmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzID0gc25hcHNob3QudmFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkUmVzb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXMucHVzaCh7fSk7XG4gICAgICAgICAgICAvLyB3cml0ZSBjb2RlIHRvIGNyZWF0ZSByZXNvdXJjZSBvbiBmaXJlYmFzZVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVSZXNvdXJjZTogZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICAgICAgdmFyIF9vYmplY3RzID0gdGhpcy5yZXNvdXJjZXNcbiAgICAgICAgICAgIGZvciAoaSBpbiBfb2JqZWN0cykge1xuICAgICAgICAgICAgICAgIHZhciBfdXBkYXRlUmVzb3VyY2UgPSBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigncmVzb3VyY2VzLycgKyBfb2JqZWN0c1tpXS5pZClcbiAgICAgICAgICAgICAgICBfdXBkYXRlUmVzb3VyY2UucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgX29iamVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gd3JpdGUgY29kZSB0byByZW1vdmUgcmVzb3VyY2UgZnJvbSBmaXJlYmFzZVxuICAgICAgICB9LFxuICAgICAgICBzYXZlUmVzb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gd3JpdGUgY29kZSB0byBzYXZlIHJlc291cmNlXG4gICAgICAgICAgICB2YXIgX29iamVjdHMgPSB0aGlzLnJlc291cmNlc1xuICAgICAgICAgICAgZm9yIChpIGluIF9vYmplY3RzKSB7XG4gICAgICAgICAgICAgICAgdmFyIF91cGRhdGVSZXNvdXJjZSA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdyZXNvdXJjZXMvJyArIF9vYmplY3RzW2ldLmlkKVxuICAgICAgICAgICAgICAgIF91cGRhdGVSZXNvdXJjZS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IF9vYmplY3RzW2ldLnVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHdyaXRlIGNvZGUgdG8gdXBkYXRlIHRyYWNrXG4gICAgICAgICAgICBmdW5jdGlvbiBzbHVnaWZ5KHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKSAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIC1cbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1teXFx3XFwtXSsvZywgJycpIC8vIFJlbW92ZSBhbGwgbm9uLXdvcmQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcLVxcLSsvZywgJy0nKSAvLyBSZXBsYWNlIG11bHRpcGxlIC0gd2l0aCBzaW5nbGUgLVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXi0rLywgJycpIC8vIFRyaW0gLSBmcm9tIHN0YXJ0IG9mIHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0rJC8sICcnKTsgLy8gVHJpbSAtIGZyb20gZW5kIG9mIHRleHRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50cmFjay5zbHVnID0gc2x1Z2lmeSh0aGlzLnRyYWNrLm5hbWUpO1xuXG4gICAgICAgICAgICBkYi50cmFja3MuY2hpbGQodGhpcy4kcm91dGUucGFyYW1zLnNsdWcpLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy50cmFjay5uYW1lLFxuICAgICAgICAgICAgICAgIHNsdWc6IHRoaXMudHJhY2suc2x1ZyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB0aGlzLnRyYWNrLmRldGFpbHNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgcXVlc3Rpb25MaXN0ID0gVnVlLmNvbXBvbmVudCgncXVlc3Rpb25MaXN0Jywge1xuICAgIHRlbXBsYXRlOiAnI1F1ZXN0aW9uTGlzdCdcbn0pO1xuXG52YXIgcXVlc3Rpb24gPSBWdWUuY29tcG9uZW50KCdxdWVzdGlvbicsIHtcbiAgICB0ZW1wbGF0ZTogJyNRdWVzdGlvbidcbn0pO1xuXG4vLyBSb3V0ZXNcblxudmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoe1xuICAgIHJvdXRlczogW1xuICAgICAgICB7IG5hbWU6ICdob21lJywgcGF0aDogJy8nLCByZWRpcmVjdDogJy90cmFja3MnIH0sXG4gICAgICAgIHsgbmFtZTogJ3RyYWNrTGlzdCcsIHBhdGg6ICcvdHJhY2tzJywgY29tcG9uZW50OiB0cmFja0xpc3QgfSxcbiAgICAgICAgeyBuYW1lOiAnbmV3VHJhY2snLCBwYXRoOiAnL3RyYWNrcy9uZXcnLCBjb21wb25lbnQ6IG5ld1RyYWNrIH0sXG4gICAgICAgIHsgbmFtZTogJ2VkaXRUcmFjaycsIHBhdGg6ICcvdHJhY2tzLzpzbHVnJywgY29tcG9uZW50OiBlZGl0VHJhY2sgfSxcbiAgICAgICAgeyBuYW1lOiAncXVlc3Rpb25MaXN0JywgcGF0aDogJy9xdWVzdGlvbnMnLCBjb21wb25lbnQ6IHF1ZXN0aW9uTGlzdCB9LFxuICAgICAgICB7IG5hbWU6ICdxdWVzdGlvbicsIHBhdGg6ICcvcXVlc3Rpb25zLzppZCcsIGNvbXBvbmVudDogcXVlc3Rpb24gfVxuICAgIF1cbn0pO1xuXG4vLyBJbml0aWFsaXplIFZ1ZVxuXG52YXIgYXBwID0gbmV3IFZ1ZSh7IHJvdXRlcjogcm91dGVyIH0pLiRtb3VudCgnI2FwcCcpO1xuIl19
