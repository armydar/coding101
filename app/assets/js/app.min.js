/*!
 * Coding101
 * Coding101 is a guide for people that want to learn how to code
 * https://github.com/devcenter-square/coding101
 * @author Devcenter
 * @version 0.0.1
 * Copyright 2016. MIT licensed.
 */
function slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var config={apiKey:"AIzaSyA6mwwrGZLXTrPZcotadbPla7MfSNRyvU8",authDomain:"coding101-e7ef0.firebaseapp.com",databaseURL:"https://coding101-e7ef0.firebaseio.com",storageBucket:"coding101-e7ef0.appspot.com"};firebase.initializeApp(config);var db={tracks:firebase.database().ref("tracks"),resources:firebase.database().ref("resources")},trackList={template:"#TrackList",data:function(){return{tracks:[]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;db.tracks.once("value",function(t){function r(t){db.resources.orderByChild("track").equalTo(t.slug).once("value",function(r){t.resources=r.val()||{},e.tracks.push(t)})}var a=t.val();for(var s in a)r(a[s])})}}},newTrack={template:"#Track",data:function(){return{track:{},resources:[{}]}},methods:{addResource:function(){this.resources.push({})},removeResource:function(e){this.resources.splice(e,1)},save:function(){for(this.track.slug=slugify(this.track.name),db.tracks.child(this.track.slug).set({name:this.track.name,slug:this.track.slug,details:this.track.details}),i=0;i<this.resources.length;i++){var e=db.resources.push();e.set({track:this.track.slug,url:this.resources[i].url})}this.$router.push("/")}}},editTrack={template:"#Track",data:function(){return{track:{},resources:{}}},beforeRouteEnter:function(e,t,r){db.tracks.child(e.params.slug).once("value",function(t){null==t.val()?r(!1):db.resources.orderByChild("track").equalTo(e.params.slug).once("value",function(e){r(function(r){r.track=t.val(),r.resources=e.val()})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var e=this;db.tracks.child(this.$route.params.slug).once("value",function(t){null==t.val()?router.push("/404"):db.resources.orderByChild("track").equalTo(this.$route.params.slug).once("value",function(r){e.track=t.val(),e.resources=r.val()})})},addResource:function(){var e=this,t={track:this.track.slug};db.resources.push(t).then(function(r){e.resources=e.resources||{},Vue.set(e.resources,r.key,t)})},removeResource:function(e){var t=this;db.resources.child(e).remove().then(function(){Vue["delete"](t.resources,e)})},saveResource:function(e,t){db.resources.child(e).update({url:t.url})},save:function(){this.track.slug=slugify(this.track.name),db.tracks.child(this.$route.params.slug).update({name:this.track.name,slug:this.track.slug,details:this.track.details}),this.$router.push("/")}}},questionList={template:"#QuestionList"},question={template:"#Question"},notFound={template:"#NotFound"},router=new VueRouter({routes:[{name:"home",path:"/",redirect:"/tracks"},{name:"trackList",path:"/tracks",component:trackList},{name:"newTrack",path:"/tracks/new",component:newTrack},{name:"editTrack",path:"/tracks/:slug",component:editTrack},{name:"questionList",path:"/questions",component:questionList},{name:"question",path:"/questions/:id",component:question},{name:"404",path:"/404",component:notFound}]}),app=new Vue({router:router}).$mount("#app");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzbHVnaWZ5IiwidGV4dCIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiY29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwic3RvcmFnZUJ1Y2tldCIsImZpcmViYXNlIiwiaW5pdGlhbGl6ZUFwcCIsImRiIiwidHJhY2tzIiwiZGF0YWJhc2UiLCJyZWYiLCJyZXNvdXJjZXMiLCJ0cmFja0xpc3QiLCJ0ZW1wbGF0ZSIsImRhdGEiLCJ3YXRjaCIsIiRyb3V0ZSIsImNyZWF0ZWQiLCJ0aGlzIiwiZmV0Y2hEYXRhIiwibWV0aG9kcyIsInNlbGYiLCJvbmNlIiwic25hcHNob3QiLCJmZXRjaFJlc291cmNlcyIsInRyYWNrIiwib3JkZXJCeUNoaWxkIiwiZXF1YWxUbyIsInNsdWciLCJ2YWwiLCJwdXNoIiwiaSIsIm5ld1RyYWNrIiwiYWRkUmVzb3VyY2UiLCJyZW1vdmVSZXNvdXJjZSIsImluZGV4Iiwic3BsaWNlIiwic2F2ZSIsIm5hbWUiLCJjaGlsZCIsInNldCIsImRldGFpbHMiLCJsZW5ndGgiLCJfbmV3UmVzb3VyY2UiLCJ1cmwiLCIkcm91dGVyIiwiZWRpdFRyYWNrIiwiYmVmb3JlUm91dGVFbnRlciIsInRvIiwiZnJvbSIsIm5leHQiLCJwYXJhbXMiLCJ2bSIsInJvdXRlciIsInRoZW4iLCJWdWUiLCJrZXkiLCJyZW1vdmUiLCJzYXZlUmVzb3VyY2UiLCJyZXNvdXJjZSIsInVwZGF0ZSIsInF1ZXN0aW9uTGlzdCIsInF1ZXN0aW9uIiwibm90Rm91bmQiLCJWdWVSb3V0ZXIiLCJyb3V0ZXMiLCJwYXRoIiwicmVkaXJlY3QiLCJjb21wb25lbnQiLCJhcHAiLCIkbW91bnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBd01BLFFBQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsV0FBQUMsY0FDQUMsUUFBQSxPQUFBLEtBQ0FBLFFBQUEsWUFBQSxJQUNBQSxRQUFBLFNBQUEsS0FD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QUFILElBQ0FYLElBQUFJLFVBQUE0QixNQUFBSixHQUFBc0IsU0FBQUgsS0FBQSxXQUNBQyxJQUFBQSxVQUFBbEMsRUFBQVYsVUFBQXdCLE1BR0F1QixhQUFBLFNBQUF2QixFQUFBd0IsR0FDQXBELEdBQUFJLFVBQUE0QixNQUFBSixHQUFBeUIsUUFDQWhCLElBQUFlLEVBQUFmLE9BR0FQLEtBQUEsV0FDQW5CLEtBQUFPLE1BQUFHLEtBQUFqQyxRQUFBdUIsS0FBQU8sTUFBQWEsTUFFQS9CLEdBQUFDLE9BQUErQixNQUFBckIsS0FBQUYsT0FBQW1DLE9BQUF2QixNQUFBZ0MsUUFDQXRCLEtBQUFwQixLQUFBTyxNQUFBYSxLQUNBVixLQUFBVixLQUFBTyxNQUFBRyxLQUNBYSxRQUFBdkIsS0FBQU8sTUFBQWdCLFVBR0F2QixLQUFBMkIsUUFBQWYsS0FBQSxRQUtBK0IsY0FDQWhELFNBQUEsaUJBR0FpRCxVQUNBakQsU0FBQSxhQUdBa0QsVUFDQWxELFNBQUEsYUFLQXdDLE9BQUEsR0FBQVcsWUFDQUMsU0FDQTNCLEtBQUEsT0FBQTRCLEtBQUEsSUFBQUMsU0FBQSxZQUNBN0IsS0FBQSxZQUFBNEIsS0FBQSxVQUFBRSxVQUFBeEQsWUFDQTBCLEtBQUEsV0FBQTRCLEtBQUEsY0FBQUUsVUFBQXBDLFdBQ0FNLEtBQUEsWUFBQTRCLEtBQUEsZ0JBQUFFLFVBQUF0QixZQUNBUixLQUFBLGVBQUE0QixLQUFBLGFBQUFFLFVBQUFQLGVBQ0F2QixLQUFBLFdBQUE0QixLQUFBLGlCQUFBRSxVQUFBTixXQUNBeEIsS0FBQSxNQUFBNEIsS0FBQSxPQUFBRSxVQUFBTCxhQU1BTSxJQUFBLEdBQUFkLE1BQUFGLE9BQUFBLFNBQUFpQixPQUFBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAuanMgd2lsbCBiZSB0aGUgamF2YXNjcmlwdCBmaWxlXG4vLyBmb3IgdGhlIG1haW4gYXBwIGZ1bmN0aW9ucyAobm9uLWRvbSlcblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuXG52YXIgY29uZmlnID0ge1xuICAgIGFwaUtleTogXCJBSXphU3lBNm13d3JHWkxYVHJQWmNvdGFkYlBsYTdNZlNOUnl2VThcIixcbiAgICBhdXRoRG9tYWluOiBcImNvZGluZzEwMS1lN2VmMC5maXJlYmFzZWFwcC5jb21cIixcbiAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2NvZGluZzEwMS1lN2VmMC5maXJlYmFzZWlvLmNvbVwiLFxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwiY29kaW5nMTAxLWU3ZWYwLmFwcHNwb3QuY29tXCJcbn07XG5cbmZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcblxudmFyIGRiID0ge1xuICAgIHRyYWNrczogZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3RyYWNrcycpLFxuICAgIHJlc291cmNlczogZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Jlc291cmNlcycpXG59XG5cbi8vIENvbXBvbmVudHNcblxudmFyIHRyYWNrTGlzdCA9IHtcbiAgICB0ZW1wbGF0ZTogJyNUcmFja0xpc3QnLFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2tzOiBbXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICAnJHJvdXRlJzogJ2ZldGNoRGF0YSdcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmZldGNoRGF0YSgpXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIGZldGNoRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBkYi50cmFja3Mub25jZSgndmFsdWUnLCBmdW5jdGlvbihzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFja3MgPSBzbmFwc2hvdC52YWwoKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoUmVzb3VyY2VzKHRyYWNrc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZmV0Y2hSZXNvdXJjZXModHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZGIucmVzb3VyY2VzLm9yZGVyQnlDaGlsZCgndHJhY2snKS5lcXVhbFRvKHRyYWNrLnNsdWcpLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnJlc291cmNlcyA9IHNuYXBzaG90LnZhbCgpIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi50cmFja3MucHVzaCh0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgbmV3VHJhY2sgPSB7XG4gICAgdGVtcGxhdGU6ICcjVHJhY2snLFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2s6IHt9LFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBbe31dXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgYWRkUmVzb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXMucHVzaCh7fSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVJlc291cmNlOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrLnNsdWcgPSBzbHVnaWZ5KHRoaXMudHJhY2submFtZSk7XG5cbiAgICAgICAgICAgIGRiLnRyYWNrcy5jaGlsZCh0aGlzLnRyYWNrLnNsdWcpLnNldCh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy50cmFjay5uYW1lLFxuICAgICAgICAgICAgICAgIHNsdWc6IHRoaXMudHJhY2suc2x1ZyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB0aGlzLnRyYWNrLmRldGFpbHNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5yZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgX25ld1Jlc291cmNlID0gZGIucmVzb3VyY2VzLnB1c2goKTtcbiAgICAgICAgICAgICAgICBfbmV3UmVzb3VyY2Uuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2s6IHRoaXMudHJhY2suc2x1ZyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB0aGlzLnJlc291cmNlc1tpXS51cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBlZGl0VHJhY2sgPSB7XG4gICAgdGVtcGxhdGU6ICcjVHJhY2snLFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2s6IHt9LFxuICAgICAgICAgICAgcmVzb3VyY2VzOiB7fVxuICAgICAgICB9XG4gICAgfSxcbiAgICBiZWZvcmVSb3V0ZUVudGVyOiBmdW5jdGlvbih0bywgZnJvbSwgbmV4dCkge1xuICAgICAgICBkYi50cmFja3MuY2hpbGQodG8ucGFyYW1zLnNsdWcpLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICAgIGlmICh0cmFjay52YWwoKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmV4dChmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRiLnJlc291cmNlcy5vcmRlckJ5Q2hpbGQoXCJ0cmFja1wiKS5lcXVhbFRvKHRvLnBhcmFtcy5zbHVnKS5vbmNlKCd2YWx1ZScsIGZ1bmN0aW9uKHJlc291cmNlcykge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KGZ1bmN0aW9uKHZtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS50cmFjayA9IHRyYWNrLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0ucmVzb3VyY2VzID0gcmVzb3VyY2VzLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHdhdGNoOiB7XG4gICAgICAgICckcm91dGUnOiAnZmV0Y2hEYXRhJ1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBmZXRjaERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgZGIudHJhY2tzLmNoaWxkKHRoaXMuJHJvdXRlLnBhcmFtcy5zbHVnKS5vbmNlKCd2YWx1ZScsIGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrLnZhbCgpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy80MDQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYi5yZXNvdXJjZXMub3JkZXJCeUNoaWxkKFwidHJhY2tcIikuZXF1YWxUbyh0aGlzLiRyb3V0ZS5wYXJhbXMuc2x1Zykub25jZSgndmFsdWUnLCBmdW5jdGlvbihyZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudHJhY2sgPSB0cmFjay52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzID0gcmVzb3VyY2VzLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkUmVzb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIF9uZXdSZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICB0cmFjazogdGhpcy50cmFjay5zbHVnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkYi5yZXNvdXJjZXMucHVzaChfbmV3UmVzb3VyY2UpLnRoZW4oZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlc291cmNlcyA9IHNlbGYucmVzb3VyY2VzIHx8IHt9O1xuICAgICAgICAgICAgICAgIFZ1ZS5zZXQoc2VsZi5yZXNvdXJjZXMsIHNuYXBzaG90LmtleSwgX25ld1Jlc291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVSZXNvdXJjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGRiLnJlc291cmNlcy5jaGlsZChpbmRleCkucmVtb3ZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBWdWUuZGVsZXRlKHNlbGYucmVzb3VyY2VzLCBpbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZVJlc291cmNlOiBmdW5jdGlvbihpbmRleCwgcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIGRiLnJlc291cmNlcy5jaGlsZChpbmRleCkudXBkYXRlKHtcbiAgICAgICAgICAgICAgICB1cmw6IHJlc291cmNlLnVybFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy50cmFjay5zbHVnID0gc2x1Z2lmeSh0aGlzLnRyYWNrLm5hbWUpO1xuXG4gICAgICAgICAgICBkYi50cmFja3MuY2hpbGQodGhpcy4kcm91dGUucGFyYW1zLnNsdWcpLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy50cmFjay5uYW1lLFxuICAgICAgICAgICAgICAgIHNsdWc6IHRoaXMudHJhY2suc2x1ZyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB0aGlzLnRyYWNrLmRldGFpbHNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIHF1ZXN0aW9uTGlzdCA9IHtcbiAgICB0ZW1wbGF0ZTogJyNRdWVzdGlvbkxpc3QnXG59O1xuXG52YXIgcXVlc3Rpb24gPSB7XG4gICAgdGVtcGxhdGU6ICcjUXVlc3Rpb24nXG59O1xuXG52YXIgbm90Rm91bmQgPSB7XG4gICAgdGVtcGxhdGU6ICcjTm90Rm91bmQnXG59O1xuXG4vLyBSb3V0ZXNcblxudmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoe1xuICAgIHJvdXRlczogW1xuICAgICAgICB7IG5hbWU6ICdob21lJywgcGF0aDogJy8nLCByZWRpcmVjdDogJy90cmFja3MnIH0sXG4gICAgICAgIHsgbmFtZTogJ3RyYWNrTGlzdCcsIHBhdGg6ICcvdHJhY2tzJywgY29tcG9uZW50OiB0cmFja0xpc3QgfSxcbiAgICAgICAgeyBuYW1lOiAnbmV3VHJhY2snLCBwYXRoOiAnL3RyYWNrcy9uZXcnLCBjb21wb25lbnQ6IG5ld1RyYWNrIH0sXG4gICAgICAgIHsgbmFtZTogJ2VkaXRUcmFjaycsIHBhdGg6ICcvdHJhY2tzLzpzbHVnJywgY29tcG9uZW50OiBlZGl0VHJhY2sgfSxcbiAgICAgICAgeyBuYW1lOiAncXVlc3Rpb25MaXN0JywgcGF0aDogJy9xdWVzdGlvbnMnLCBjb21wb25lbnQ6IHF1ZXN0aW9uTGlzdCB9LFxuICAgICAgICB7IG5hbWU6ICdxdWVzdGlvbicsIHBhdGg6ICcvcXVlc3Rpb25zLzppZCcsIGNvbXBvbmVudDogcXVlc3Rpb24gfSxcbiAgICAgICAgeyBuYW1lOiAnNDA0JywgcGF0aDogJy80MDQnLCBjb21wb25lbnQ6IG5vdEZvdW5kIH1cbiAgICBdXG59KTtcblxuLy8gSW5pdGlhbGl6ZSBWdWVcblxudmFyIGFwcCA9IG5ldyBWdWUoeyByb3V0ZXI6IHJvdXRlciB9KS4kbW91bnQoJyNhcHAnKTtcblxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBzbHVnaWZ5KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKSAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIC1cbiAgICAgICAgLnJlcGxhY2UoL1teXFx3XFwtXSsvZywgJycpIC8vIFJlbW92ZSBhbGwgbm9uLXdvcmQgY2hhcnNcbiAgICAgICAgLnJlcGxhY2UoL1xcLVxcLSsvZywgJy0nKSAvLyBSZXBsYWNlIG11bHRpcGxlIC0gd2l0aCBzaW5nbGUgLVxuICAgICAgICAucmVwbGFjZSgvXi0rLywgJycpIC8vIFRyaW0gLSBmcm9tIHN0YXJ0IG9mIHRleHRcbiAgICAgICAgLnJlcGxhY2UoLy0rJC8sICcnKTsgLy8gVHJpbSAtIGZyb20gZW5kIG9mIHRleHRcbn1cbiJdfQ==
