/*!
 * Coding101
 * Coding101 is a guide for people that want to learn how to code
 * https://github.com/devcenter-square/coding101
 * @author Devcenter
 * @version 0.0.1
 * Copyright 2016. MIT licensed.
 */
var config={apiKey:"AIzaSyA6mwwrGZLXTrPZcotadbPla7MfSNRyvU8",authDomain:"coding101-e7ef0.firebaseapp.com",databaseURL:"https://coding101-e7ef0.firebaseio.com",storageBucket:"coding101-e7ef0.appspot.com"};firebase.initializeApp(config);var db={tracks:firebase.database().ref("tracks"),resources:firebase.database().ref("resources")},trackList=Vue.component("trackList",{template:"#TrackList",data:function(){return{tracks:[]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;db.tracks.once("value",function(t){var a=t.val();for(var r in a){var s=a[r];s.resources={},db.resources.orderByChild("track").equalTo(s.slug).once("value",function(e){s.resources=e.val()}),e.tracks.push(s)}})}}}),newTrack=Vue.component("newTrack",{template:"#Track",data:function(){return{track:{},resources:[{}]}},methods:{addResource:function(){this.resources.push({})},removeResource:function(e){this.resources.splice(e,1)},save:function(){function e(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}for(this.track.slug=e(this.track.name),db.tracks.child(this.track.slug).set({name:this.track.name,slug:this.track.slug,details:this.track.details}),i=0;i<this.resources.length;i++){var t=firebase.database().ref("resources").push();t.set({track:this.track.slug,url:this.resources[i].url})}this.$router.push("/")}}}),editTrack=Vue.component("editTrack",{template:"#Track",data:function(){return{track:{},resources:[{}]}},watch:{$route:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;db.tracks.child(this.$route.params.slug).once("value",function(t){e.track=t.val()}),db.resources.orderByChild("track").equalTo(this.$route.params.slug).once("value",function(t){e.resources=t.val()})},addResource:function(){this.resources.push({})},removeResource:function(e){this.resources.splice(e,1)},saveResource:function(){db.resources.orderByValue(index).update({track:this.track.slug,url:this.resources.url})},save:function(){function e(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}this.track.slug=e(this.track.name),db.tracks.child(this.$route.params.slug).update({name:this.track.name,slug:this.track.slug,details:this.track.details}),console.log(this.track.slug)}}}),questionList=Vue.component("questionList",{template:"#QuestionList"}),question=Vue.component("question",{template:"#Question"}),router=new VueRouter({routes:[{name:"home",path:"/",redirect:"/tracks"},{name:"trackList",path:"/tracks",component:trackList},{name:"newTrack",path:"/tracks/new",component:newTrack},{name:"editTrack",path:"/tracks/:slug",component:editTrack},{name:"questionList",path:"/questions",component:questionList},{name:"question",path:"/questions/:id",component:question}]}),app=new Vue({router:router}).$mount("#app");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwiZmlyZWJhc2UiLCJpbml0aWFsaXplQXBwIiwiZGIiLCJ0cmFja3MiLCJkYXRhYmFzZSIsInJlZiIsInJlc291cmNlcyIsInRyYWNrTGlzdCIsIlZ1ZSIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwiZGF0YSIsIndhdGNoIiwiJHJvdXRlIiwiY3JlYXRlZCIsInRoaXMiLCJmZXRjaERhdGEiLCJtZXRob2RzIiwic2VsZiIsIm9uY2UiLCJzbmFwc2hvdCIsInZhbCIsImkiLCJ0cmFjayIsIm9yZGVyQnlDaGlsZCIsImVxdWFsVG8iLCJzbHVnIiwicHVzaCIsIm5ld1RyYWNrIiwiYWRkUmVzb3VyY2UiLCJyZW1vdmVSZXNvdXJjZSIsImluZGV4Iiwic3BsaWNlIiwic2F2ZSIsInNsdWdpZnkiLCJ0ZXh0IiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJuYW1lIiwiY2hpbGQiLCJzZXQiLCJkZXRhaWxzIiwibGVuZ3RoIiwiX25ld1Jlc291cmNlIiwidXJsIiwiJHJvdXRlciIsImVkaXRUcmFjayIsInBhcmFtcyIsInNhdmVSZXNvdXJjZSIsIm9yZGVyQnlWYWx1ZSIsInVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJxdWVzdGlvbkxpc3QiLCJxdWVzdGlvbiIsInJvdXRlciIsIlZ1ZVJvdXRlciIsInJvdXRlcyIsInBhdGgiLCJyZWRpcmVjdCIsImFwcCIsIiRtb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFLQSxHQUFBQSxTQUNBQyxPQUFBLDBDQUNBQyxXQUFBLGtDQUNBQyxZQUFBLHlDQUNBQyxjQUFBLDhCQUdBQyxVQUFBQyxjQUFBTixPQUVBLElBQUFPLEtBQ0FDLE9BQUFILFNBQUFJLFdBQUFDLElBQUEsVUFDQUMsVUFBQU4sU0FBQUksV0FBQUMsSUFBQSxjQUtBRSxVQUFBQyxJQUFBQyxV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S0FBQVEsTUFBQW1CLFVBSUFVLFFBQUFDLElBQUF0QyxLQUFBUSxNQUFBRyxVQU9BNEIsYUFBQTlDLElBQUFDLFVBQUEsZ0JBQ0FDLFNBQUEsa0JBR0E2QyxTQUFBL0MsSUFBQUMsVUFBQSxZQUNBQyxTQUFBLGNBS0E4QyxPQUFBLEdBQUFDLFlBQ0FDLFNBQ0FuQixLQUFBLE9BQUFvQixLQUFBLElBQUFDLFNBQUEsWUFDQXJCLEtBQUEsWUFBQW9CLEtBQUEsVUFBQWxELFVBQUFGLFlBQ0FnQyxLQUFBLFdBQUFvQixLQUFBLGNBQUFsRCxVQUFBbUIsV0FDQVcsS0FBQSxZQUFBb0IsS0FBQSxnQkFBQWxELFVBQUFzQyxZQUNBUixLQUFBLGVBQUFvQixLQUFBLGFBQUFsRCxVQUFBNkMsZUFDQWYsS0FBQSxXQUFBb0IsS0FBQSxpQkFBQWxELFVBQUE4QyxhQU1BTSxJQUFBLEdBQUFyRCxNQUFBZ0QsT0FBQUEsU0FBQU0sT0FBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwLmpzIHdpbGwgYmUgdGhlIGphdmFzY3JpcHQgZmlsZVxuLy8gZm9yIHRoZSBtYWluIGFwcCBmdW5jdGlvbnMgKG5vbi1kb20pXG5cbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcblxudmFyIGNvbmZpZyA9IHtcbiAgICBhcGlLZXk6IFwiQUl6YVN5QTZtd3dyR1pMWFRyUFpjb3RhZGJQbGE3TWZTTlJ5dlU4XCIsXG4gICAgYXV0aERvbWFpbjogXCJjb2RpbmcxMDEtZTdlZjAuZmlyZWJhc2VhcHAuY29tXCIsXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9jb2RpbmcxMDEtZTdlZjAuZmlyZWJhc2Vpby5jb21cIixcbiAgICBzdG9yYWdlQnVja2V0OiBcImNvZGluZzEwMS1lN2VmMC5hcHBzcG90LmNvbVwiXG59O1xuXG5maXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XG5cbnZhciBkYiA9IHtcbiAgICB0cmFja3M6IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd0cmFja3MnKSxcbiAgICByZXNvdXJjZXM6IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdyZXNvdXJjZXMnKVxufVxuXG4vLyBDb21wb25lbnRzXG5cbnZhciB0cmFja0xpc3QgPSBWdWUuY29tcG9uZW50KCd0cmFja0xpc3QnLCB7XG4gICAgdGVtcGxhdGU6ICcjVHJhY2tMaXN0JyxcbiAgICBkYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRyYWNrczogW11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2F0Y2g6IHtcbiAgICAgICAgJyRyb3V0ZSc6ICdmZXRjaERhdGEnXG4gICAgfSxcbiAgICBjcmVhdGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5mZXRjaERhdGEoKVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBmZXRjaERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgZGIudHJhY2tzLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhY2tzID0gc25hcHNob3QudmFsKCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRyYWNrcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbaV07XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLnJlc291cmNlcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBkYi5yZXNvdXJjZXMub3JkZXJCeUNoaWxkKCd0cmFjaycpLmVxdWFsVG8odHJhY2suc2x1Zykub25jZSgndmFsdWUnLCBmdW5jdGlvbihyZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnJlc291cmNlcyA9IHJlc291cmNlcy52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi50cmFja3MucHVzaCh0cmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxudmFyIG5ld1RyYWNrID0gVnVlLmNvbXBvbmVudCgnbmV3VHJhY2snLCB7XG4gICAgdGVtcGxhdGU6ICcjVHJhY2snLFxuICAgIGRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2s6IHt9LFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBbe31dXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgYWRkUmVzb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXMucHVzaCh7fSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVJlc291cmNlOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBzbHVnaWZ5KHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKSAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIC1cbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1teXFx3XFwtXSsvZywgJycpIC8vIFJlbW92ZSBhbGwgbm9uLXdvcmQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcLVxcLSsvZywgJy0nKSAvLyBSZXBsYWNlIG11bHRpcGxlIC0gd2l0aCBzaW5nbGUgLVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXi0rLywgJycpIC8vIFRyaW0gLSBmcm9tIHN0YXJ0IG9mIHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLy0rJC8sICcnKTsgLy8gVHJpbSAtIGZyb20gZW5kIG9mIHRleHRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50cmFjay5zbHVnID0gc2x1Z2lmeSh0aGlzLnRyYWNrLm5hbWUpO1xuXG4gICAgICAgICAgICBkYi50cmFja3MuY2hpbGQodGhpcy50cmFjay5zbHVnKS5zZXQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMudHJhY2submFtZSxcbiAgICAgICAgICAgICAgICBzbHVnOiB0aGlzLnRyYWNrLnNsdWcsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogdGhpcy50cmFjay5kZXRhaWxzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9uZXdSZXNvdXJjZSA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdyZXNvdXJjZXMnKS5wdXNoKCk7XG4gICAgICAgICAgICAgICAgX25ld1Jlc291cmNlLnNldCh7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrOiB0aGlzLnRyYWNrLnNsdWcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogdGhpcy5yZXNvdXJjZXNbaV0udXJsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgZWRpdFRyYWNrID0gVnVlLmNvbXBvbmVudCgnZWRpdFRyYWNrJywge1xuICAgIHRlbXBsYXRlOiAnI1RyYWNrJyxcbiAgICBkYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRyYWNrOiB7fSxcbiAgICAgICAgICAgIHJlc291cmNlczogW3t9XVxuICAgICAgICB9XG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICAnJHJvdXRlJzogJ2ZldGNoRGF0YSdcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmZldGNoRGF0YSgpXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIGZldGNoRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBkYi50cmFja3MuY2hpbGQodGhpcy4kcm91dGUucGFyYW1zLnNsdWcpLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnRyYWNrID0gc25hcHNob3QudmFsKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZGIucmVzb3VyY2VzLm9yZGVyQnlDaGlsZChcInRyYWNrXCIpLmVxdWFsVG8odGhpcy4kcm91dGUucGFyYW1zLnNsdWcpLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24oc25hcHNob3QpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlc291cmNlcyA9IHNuYXBzaG90LnZhbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFJlc291cmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzLnB1c2goe30pO1xuXG4gICAgICAgICAgICAvLyB3cml0ZSBjb2RlIHRvIGNyZWF0ZSByZXNvdXJjZSBvbiBmaXJlYmFzZVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVSZXNvdXJjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIHdyaXRlIGNvZGUgdG8gcmVtb3ZlIHJlc291cmNlIGZyb20gZmlyZWJhc2VcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZVJlc291cmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHdyaXRlIGNvZGUgdG8gc2F2ZSByZXNvdXJjZVxuICAgICAgICAgICAgLy8gZm9yIChpID0gMDsgaSA8IHRoaXMucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyAgICAgdmFyIF9uZXdSZXNvdXJjZSA9IGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCdyZXNvdXJjZXMnKS5jaGlsZChpbmRleCk7XG4gICAgICAgICAgICAvLyAgICAgX25ld1Jlc291cmNlLnVwZGF0ZSh7XG4gICAgICAgICAgICAvLyAgICAgICAgIHRyYWNrOiB0aGlzLnRyYWNrLnNsdWcsXG4gICAgICAgICAgICAvLyAgICAgICAgIHVybDogdGhpcy5yZXNvdXJjZXNbaV0udXJsXG4gICAgICAgICAgICAvLyAgICAgfSlcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyB2YXIgX25ld1Jlc291cmNlID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3Jlc291cmNlcycpLmNoaWxkKFwidHJhY2tcIikuZXF1YWxUbyh0aGlzLiRyb3V0ZS5wYXJhbXMuc2x1Zyk7XG4gICAgICAgICAgICBkYi5yZXNvdXJjZXMub3JkZXJCeVZhbHVlKGluZGV4KS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHRyYWNrOiB0aGlzLnRyYWNrLnNsdWcsXG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLnJlc291cmNlcy51cmxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMuc2x1Zyk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyB3cml0ZSBjb2RlIHRvIHVwZGF0ZSB0cmFja1xuICAgICAgICAgICAgZnVuY3Rpb24gc2x1Z2lmeSh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJykgLy8gUmVwbGFjZSBzcGFjZXMgd2l0aCAtXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXlxcd1xcLV0rL2csICcnKSAvLyBSZW1vdmUgYWxsIG5vbi13b3JkIGNoYXJzXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXC1cXC0rL2csICctJykgLy8gUmVwbGFjZSBtdWx0aXBsZSAtIHdpdGggc2luZ2xlIC1cbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL14tKy8sICcnKSAvLyBUcmltIC0gZnJvbSBzdGFydCBvZiB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8tKyQvLCAnJyk7IC8vIFRyaW0gLSBmcm9tIGVuZCBvZiB0ZXh0XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudHJhY2suc2x1ZyA9IHNsdWdpZnkodGhpcy50cmFjay5uYW1lKTtcblxuICAgICAgICAgICAgZGIudHJhY2tzLmNoaWxkKHRoaXMuJHJvdXRlLnBhcmFtcy5zbHVnKS51cGRhdGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMudHJhY2submFtZSxcbiAgICAgICAgICAgICAgICBzbHVnOiB0aGlzLnRyYWNrLnNsdWcsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogdGhpcy50cmFjay5kZXRhaWxzXG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRyYWNrLnNsdWcpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCgnLycpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciBxdWVzdGlvbkxpc3QgPSBWdWUuY29tcG9uZW50KCdxdWVzdGlvbkxpc3QnLCB7XG4gICAgdGVtcGxhdGU6ICcjUXVlc3Rpb25MaXN0J1xufSk7XG5cbnZhciBxdWVzdGlvbiA9IFZ1ZS5jb21wb25lbnQoJ3F1ZXN0aW9uJywge1xuICAgIHRlbXBsYXRlOiAnI1F1ZXN0aW9uJ1xufSk7XG5cbi8vIFJvdXRlc1xuXG52YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7XG4gICAgcm91dGVzOiBbXG4gICAgICAgIHsgbmFtZTogJ2hvbWUnLCBwYXRoOiAnLycsIHJlZGlyZWN0OiAnL3RyYWNrcycgfSxcbiAgICAgICAgeyBuYW1lOiAndHJhY2tMaXN0JywgcGF0aDogJy90cmFja3MnLCBjb21wb25lbnQ6IHRyYWNrTGlzdCB9LFxuICAgICAgICB7IG5hbWU6ICduZXdUcmFjaycsIHBhdGg6ICcvdHJhY2tzL25ldycsIGNvbXBvbmVudDogbmV3VHJhY2sgfSxcbiAgICAgICAgeyBuYW1lOiAnZWRpdFRyYWNrJywgcGF0aDogJy90cmFja3MvOnNsdWcnLCBjb21wb25lbnQ6IGVkaXRUcmFjayB9LFxuICAgICAgICB7IG5hbWU6ICdxdWVzdGlvbkxpc3QnLCBwYXRoOiAnL3F1ZXN0aW9ucycsIGNvbXBvbmVudDogcXVlc3Rpb25MaXN0IH0sXG4gICAgICAgIHsgbmFtZTogJ3F1ZXN0aW9uJywgcGF0aDogJy9xdWVzdGlvbnMvOmlkJywgY29tcG9uZW50OiBxdWVzdGlvbiB9XG4gICAgXVxufSk7XG5cbi8vIEluaXRpYWxpemUgVnVlXG5cbnZhciBhcHAgPSBuZXcgVnVlKHsgcm91dGVyOiByb3V0ZXIgfSkuJG1vdW50KCcjYXBwJyk7XG4iXX0=
